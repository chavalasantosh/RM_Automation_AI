{% extends "base.html" %}

{% block title %}Feedback & Support - RME Enterprise AI Platform{% endblock %}

{% block body_class %}feedback-support-page{% endblock %}

{% block extra_css %}
<style>
.feedback-form-card, .faq-card, .contact-card, .recent-feedback-card {
    border-radius: 1rem;
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.05);
    margin-bottom: 2rem;
    overflow: hidden;
}
.feedback-form-card .card-header, .faq-card .card-header, .contact-card .card-header, .recent-feedback-card .card-header {
    background: var(--bs-gray-100);
    border-bottom: none;
    padding: 1.5rem;
}
.feedback-form-card .card-body, .faq-card .card-body, .contact-card .card-body, .recent-feedback-card .card-body {
    padding: 1.5rem;
}
.feedback-form-card .form-label, .faq-card .accordion-header, .contact-card h5, .recent-feedback-card h5 {
    font-weight: 600;
}
.feedback-form-card .form-control, .feedback-form-card .form-select, .feedback-form-card textarea {
    border-radius: 0.5rem;
}
.feedback-form-card textarea {
    min-height: 120px;
}
.faq-card .accordion-button:not(.collapsed) {
    background-color: var(--bs-primary-bg-subtle);
    color: var(--bs-primary);
}
.contact-card ul {
    list-style: none; padding: 0; margin: 0;
}
.contact-card li { margin-bottom: 0.5rem; }
.recent-feedback-card .table th, .recent-feedback-card .table td { vertical-align: middle; }
</style>
{% endblock %}

{% block content %}
<div class="container-fluid py-4">
    <h1 class="mb-4">Feedback & Support</h1>
    <div class="row">
        <!-- Feedback Form -->
        <div class="col-lg-6 mb-4 mb-lg-0">
            <div class="card feedback-form-card">
                <div class="card-header">
                    <h5 class="mb-0">Submit Feedback</h5>
                </div>
                <div class="card-body">
                    <form id="feedbackForm" onsubmit="submitFeedback(event);">
                        <div class="mb-3">
                            <label for="feedbackSubject" class="form-label">Subject</label>
                            <input type="text" class="form-control" id="feedbackSubject" placeholder="Enter subject" required>
                        </div>
                        <div class="mb-3">
                            <label for="feedbackType" class="form-label">Feedback Type</label>
                            <select class="form-select" id="feedbackType" required>
                                <option value="">-- Select --</option>
                                <option value="bug">Bug</option>
                                <option value="feature">Feature Request</option>
                                <option value="general">General</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="feedbackMessage" class="form-label">Message</label>
                            <textarea class="form-control" id="feedbackMessage" placeholder="Describe your feedback or issue..." required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Submit Feedback</button>
                    </form>
                </div>
            </div>
        </div>
        <!-- FAQ Accordion -->
        <div class="col-lg-6 mb-4 mb-lg-0">
            <div class="card faq-card">
                <div class="card-header">
                    <h5 class="mb-0">Frequently Asked Questions</h5>
                </div>
                <div class="card-body">
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                             <h2 class="accordion-header" id="faqOne">
                                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFaqOne" aria-expanded="false" aria-controls="collapseFaqOne">How do I upload a resume?</button>
                             </h2>
                             <div id="collapseFaqOne" class="accordion-collapse collapse" aria-labelledby="faqOne" data-bs-parent="#faqAccordion">
                                  <div class="accordion-body">Go to the Resumes page and click "Upload Resume."</div>
                             </div>
                        </div>
                        <div class="accordion-item">
                             <h2 class="accordion-header" id="faqTwo">
                                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFaqTwo" aria-expanded="false" aria-controls="collapseFaqTwo">How do I post a job?</button>
                             </h2>
                             <div id="collapseFaqTwo" class="accordion-collapse collapse" aria-labelledby="faqTwo" data-bs-parent="#faqAccordion">
                                  <div class="accordion-body">Go to the Jobs page and click "Add Job."</div>
                             </div>
                        </div>
                        <div class="accordion-item">
                             <h2 class="accordion-header" id="faqThree">
                                  <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFaqThree" aria-expanded="false" aria-controls="collapseFaqThree">How is the match score calculated?</button>
                             </h2>
                             <div id="collapseFaqThree" class="accordion-collapse collapse" aria-labelledby="faqThree" data-bs-parent="#faqAccordion">
                                  <div class="accordion-body">The score is based on skills, experience, and job requirements.</div>
                             </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
         <div class="col-lg-6 mb-4 mb-lg-0">
             <div class="card contact-card">
                 <div class="card-header">
                     <h5 class="mb-0">Contact Support</h5>
                 </div>
                 <div class="card-body">
                     <p>Need help? Reach out to our support team via the following channels:</p>
                     <ul>
                         <li>Email: <a href="mailto:support@example.com">support@example.com</a></li>
                         <li>Phone: +1–800–123–4567</li>
                         <li>Live Chat: Available in the bottom–right corner</li>
                     </ul>
                 </div>
             </div>
         </div>
         <div class="col-lg-6">
             <div class="card recent-feedback-card">
                 <div class="card-header">
                     <h5 class="mb-0">Recent Feedback</h5>
                 </div>
                 <div class="card-body">
                     <table class="table">
                         <thead>
                             <tr>
                                 <th>Subject</th>
                                 <th>Type</th>
                                 <th>Date</th>
                             </tr>
                         </thead>
                         <tbody id="recentFeedbackTableBody">
                             <tr>
                                 <td>Login issue</td>
                                 <td>Bug</td>
                                 <td>2024–06–01</td>
                             </tr>
                             <tr>
                                 <td>New feature request</td>
                                 <td>Feature</td>
                                 <td>2024–05–30</td>
                             </tr>
                             <tr>
                                 <td>General feedback</td>
                                 <td>General</td>
                                 <td>2024–05–28</td>
                             </tr>
                         </tbody>
                     </table>
                 </div>
             </div>
         </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Initialize feedback form
    initializeFeedbackForm();
    
    // Load feedback history
    loadFeedbackHistory();
});

function submitFeedback(event) {
    event.preventDefault();
    const subject = document.getElementById("feedbackSubject").value;
    const type = document.getElementById("feedbackType").value;
    const message = document.getElementById("feedbackMessage").value;
    // Simulate submission (demo only)
    alert("Feedback submitted (demo):\nSubject: " + subject + "\nType: " + type + "\nMessage: " + message);
    document.getElementById("feedbackForm").reset();
}
</script>
{% endblock %} 